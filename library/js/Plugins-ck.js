// Enable logging without breaking dumb browsers. Use log('whatever'), not console.log('whatever').
function namespace(e){var t=e.split("."),n=window,r="";for(var i=0,s=t.length;i<s;i++){r=t[i];n[r]=n[r]||{};n=n[r]}return n}window.log=function(){log.history=log.history||[];log.history.push(arguments);if(this.console){arguments.callee=arguments.callee.caller;var e=[].slice.call(arguments);typeof console.log=="object"?log.apply.call(console.log,console,e):console.log.apply(console,e)}};(function(e){function t(){}for(var n="assert,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,timeStamp,profile,profileEnd,time,timeEnd,trace,warn".split(","),r;r=n.pop();)e[r]=e[r]||t})(function(){try{console.log();return window.console}catch(e){return window.console={}}}());var TemplateController=function(){this.templates={};this.addTemplate=function(e){this.templates[e]=$("#template-"+e).html()};this.getTemplate=function(e){return this.templates[e]}};$.fn.imagesLoaded=function(e){function o(){e.call(t,n)}function u(e){var t=e.target;if(t.src!==i&&$.inArray(t,s)===-1){s.push(t);if(--r<=0){setTimeout(o);n.unbind(".imagesLoaded",u)}}}var t=this,n=t.find("img").add(t.filter("img")),r=n.length,i="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==",s=[];r||o();n.bind("load.imagesLoaded error.imagesLoaded",u).each(function(){var e=this.src;this.src=i;this.src=e});return t};(function(){var e=$.event,t;e.special.smartresize={setup:function(){$(this).bind("resize",e.special.smartresize.handler)},teardown:function(){$(this).unbind("resize",e.special.smartresize.handler)},handler:function(e,n){var r=this,i=arguments;e.type="smartresize";t&&clearTimeout(t);t=setTimeout(function(){$.event.handle.apply(r,i)},n==="execAsap"?0:100)}};$.fn.smartresize=function(e){return e?this.bind("smartresize",e):this.trigger("smartresize",["execAsap"])}})();